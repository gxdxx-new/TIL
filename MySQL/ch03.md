# **MySQL 실습**

## **1. 요구사항 분석과 시스템 설계, 모델링**

---

### 정보시스템 구축 절차

분석, 설계 구현, 테스트, 유지보수의 5가지 단계로 이루어진다.

- 분석
  - 구현하고자 하는 프로젝트의 가장 첫 번째 단계이다.
  - 시스템 분석 또는 요구사항 분석이라고 불린다.
  - 요구사항 분석은 현재 우리가 ‘무엇을(What)’ 할 것인지 결정하는 것이다.
  - 사용자의 인터뷰와 업무 조사 등을 수행한다.
  - 프로젝트의 첫 단추를 끼우는 중요한 단계이다.
  - 분석의 결과로 많은 문서를 작성한다.
- 설계
  - 시스템 설계 또는 프로그램 설계이다.
  - 우리가 구축하고자 하는 시스템을 ‘어떻게(How)’ 할 것인지 결정하는 것이다.
  - 대부분의 프로젝트에서 분석과 설계의 과정이 전체 공정의 50% 이상을 차지한다.
- 구현
- 테스트
- 유지보수

---

### 데이터베이스 모델링과 필수 용어

데이터베이스 모델링

- 현실세계에서 사용되는 데이터를 MySQL에 어떻게 옮겨 놓을 것인지를 결정하는 과정이다.
- 저장할 정보는 테이블(Table)이라는 형식에 맞춰 저장된다.
- ex) 쇼핑몰 데이터베이스

    <img width="500" alt="3-1" src="https://user-images.githubusercontent.com/35963403/127427597-19aa06d0-9c22-4e55-86c6-6ccc14dad27b.PNG">

데이터

- 하나하나의 단편적인 정보이다.
- 정보는 있으나 아직 체계화 되지 못한 상태이다.

테이블

- 데이터를 입력하기 위해, 표 형태로 표현한 것이다.
- ex) 회원 정보 테이블, 제품 정보 테이블

데이터베이스(DB)

- 테이블이 저장되는 저장소이다.
- 각 데이터베이스는 서로 다른 고유한 이름을 가지고 있다.

DBMS(DataBase Management System)

- 데이터베이스를 관리하는 시스템 또는 소프트웨어이다.

열

- 컬럼 또는 필드라고도 불린다.
- 각 테이블은 열로 구성된다.
- 회원 테이블의 경우에는 아이디, 회원 이름, 주소 등 3개의 열로 구성된다.

열 이름

- 각 열을 구분하기 위한 이름이다.
- 열 이름은 각 테이블 내에서는 중복되지 않고, 고유해야 한다.

데이터 형식

- 열의 데이터 형식이다.
- 테이블을 생성할 때 열 이름과 함께 지정한다.

기본키(Primary Key) 열

- 기본 키(또는 주 키) 열은 각 행을 구분하는 유일한 열이다.
- 중복되어서는 안되며, 비어 있어서도 안된다.
- 각 테이블에는 기본 키가 하나만 지정할 수 있다.

외래 키(Foreign Key) 열

- 두 테이블의 관계를 맺어주는 키이다.

SQL(Structured Query Language)

- 구조화된 질의 언어이다.
- 사람과 DBMS가 소통하기 위한 말(언어)이다.

<br/>

## **2. MySQL을 이용한 데이터베이스 구축 절차**

---

### 데이터베이스 구축/관리 및 활용의 전반적인 절차

## <img width="500" alt="3-2" src="https://user-images.githubusercontent.com/35963403/127429771-043543ea-acd9-42f6-89bd-de1ecc0520ea.png">

---

### 인터넷 쇼핑몰 구축을 위한 DB 생성

MySQL 서버 연결 및 설정

- Windows의 [시작] >> [모든 앱] >> [MySQL] >> [MySQL Workbench 6.3 CE] 클릭해 Workbench를 실행한다.
- [MySQL Connections] 창에서 접속한다.
- Workbench의 초기 창
  - [Navigator]의 [MANAGEMENT] 옆에 있는 확대/축소 클릭한다.
  - 기본적으로는 [Schemas] 탭 클릭해놓고 사용한다.
- Workbench 종료 -> 설정을 저장한다.

스키마(Schema) 생성

- MySQL에서는 스키마와 데이터베이스가 완전히 동일한 용어로 사용한다.
- Workbench의 [SCHEMAS]의 빈 부분
  - 마우스 오른쪽 버튼 클릭 후 [Create Schema](=Create Database) 선택한다.
  - CREATE SCHEMA ‘shopdb’문을 쿼리 창에서 입력하는 것과 동일한 작동한다.
  - 이름을 입력하면 DB가 생성된다.
- 아무것도 들어있지 않은 테이블을 생성한다.

테이블 생성

- 회원테이블, 제품 테이블 각 열의 영문 이름 및 데이터 형식을 결정한다.
  - 데이터베이스 모델링(특히 물리적 모델링) 시에 결정한다.
- 형식이 정해지면 Create Table 실행해 테이블 내용을 입력한다.
- SQL Query 를 데이터베이스에 적용해 테이블 생성을 완료한다.
- 생성한 테이블을 확인한다.

---

### 데이터 입력 - 행 데이터 입력

회원 테이블의 데이터 입력

- Navigator의 [SCHEMAS]에서 [Shopdb] >> [Tables] >> [membertbl] 선택 후, 마우스 오른쪽 버튼 클릭하고 [Select Rows - Limits 1000] 선택한다.
- 아래 그림의 회원 테이블 데이터 Grid에 입력 후 Apply 해 저장한다.

    <img width="500" alt="3-1" src="https://user-images.githubusercontent.com/35963403/127427597-19aa06d0-9c22-4e55-86c6-6ccc14dad27b.PNG">

제품 테이블의 데이터 입력

- 동일한 방식으로 제품 데이터 입력 후 저장한다.
- 데이터를 삭제하려면 삭제할 행의 앞 부분에 마우스 대고 오른쪽 메뉴 Delete 사용해 삭제한다.

---

### 데이터 활용

- 주로 SELECT 문을 사용해 데이터를 활용한다.

- 사용할 데이터베이스를 선택한다.

  - SCHEMA에서 사용할 DB를 더블 클릭한다.

- SQL은 대소문자 구별이 없다.

  - 읽기 편하게 예약어는 대문자로 한다.

- SELECT 열 이름 FROM 테이블 이름 WHERE 조건

<br/>

## **3. 테이블 외의 데이터베이스 개체의 활용**

---

### 인덱스

- 데이터베이스 튜닝의 개념이다.

  - 데이터베이스 성능 향상
  - 쿼리에 응답하는 시간 단축시킨다.

- 데이터의 양이 많을수록 효과적으로 작용한다.

- 테이블의 열 단위에 생성한다.

---

### 뷰

- 가상의 테이블이다.
- 실제 행 데이터를 갖고 있지 않다.
  - 진짜 테이블에 link된 것이다.
- 진짜 테이블의 데이터를 조회하는 것과 동일한 결과를 낸다.

## <img width="550" alt="3-3" src="https://user-images.githubusercontent.com/35963403/127431948-5646ad0b-72f5-41f3-a50a-c5f4d013594e.PNG">

---

### 스토어드 프로시저(Stored Procedure)

- MySQL에서 제공해주는 프로그래밍 기능이다.
- SQL문을 하나로 묶어 편리하게 사용할 수 있다.
- 다른 프로그래밍 언어와 같은 기능을 담당할 수도 있다.
  - 실무에서는 SQL문(주로 SELECT)을 매번 하나하나 수행하지 않는다.
  - 스토어드 프로시저로 만들어 놓은 후 스토어드 프로시저를 호출한다.

---

### 트리거

- 테이블에 부착되어 테이블에 INSERT나 UPDATE 또는 DELETE 작업이 발생되면 실행되는 코드이다.
- ex) 탈퇴회원 관리
  - 회원 테이블에서 빼서 탈퇴한 회원 관리 테이블로 옮긴다.
  - 회원 정보 + 탈퇴한 날짜를 관리하는 새 테이블이 필요하다.

<br/>

## **4. 데이터베이스 백업 및 관리**

---

### 백업과 복원

- 백업
  - 현재의 데이터베이스를 다른 매체에 보관하는 작업이다.
- 복원
  - 데이터베이스에 문제 발생 시 다른 매체에 백업된 데이터를 이용해 원상태로 돌려놓는 작업이다.
- DBA(DataBase Administrator: 데이터베이스 관리자)가 해야 할 가장 중요한 일이다.

<br/>

## **5. MySQL과 응용프로그램의 연결**

---

###

<br/>
